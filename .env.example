# ==========================================
# CGVS Environment Configuration
# ==========================================

# ------------------------------------------
# Database Configuration
# ------------------------------------------
DATABASE_URL=postgresql://user:password@localhost:5432/cgvs_db

# ------------------------------------------
# JWT Configuration
# ------------------------------------------
# IMPORTANT: Use a strong, random secret in production (at least 32 characters)
# Generate with: openssl rand -base64 32
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production-minimum-32-chars

# ------------------------------------------
# Redis Configuration
# ------------------------------------------
# Redis provider: 'local' or 'upstash'
# - local: Use for development and self-hosted production (requires Docker Redis)
# - upstash: Use for serverless production (Vercel, Netlify, etc.)
REDIS_PROVIDER=local

# Local Redis (when REDIS_PROVIDER=local)
REDIS_URL=redis://localhost:6379

# Upstash Redis (when REDIS_PROVIDER=upstash)
# Get these from: https://console.upstash.com/
# UPSTASH_REDIS_REST_URL=https://your-redis.upstash.io
# UPSTASH_REDIS_REST_TOKEN=your-token-here

# ------------------------------------------
# Environment
# ------------------------------------------
NODE_ENV=development

# ------------------------------------------
# CORS Configuration
# ------------------------------------------
# Set this to your frontend URL in production
ALLOWED_ORIGIN=http://localhost:3000

# ------------------------------------------
# Optional: Additional Configuration
# ------------------------------------------
# PORT=3000
# DATABASE_POOL_SIZE=10

# ------------------------------------------
# Storage Configuration
# ------------------------------------------
# Storage provider: 'local' or 'gcp'
# - local: Use for development and local file storage (NOT for serverless)
# - gcp: Use for Google Cloud Platform storage
STORAGE_PROVIDER=local

# Local Storage Configuration (when STORAGE_PROVIDER=local)
# Path where files will be stored (relative to project root)
LOCAL_STORAGE_PATH=./storage/

# Public base URL of the application (no trailing slash)
# Used for generating signed upload/download URLs
NEXT_PUBLIC_BASE_URL=http://localhost:3000

# Signed URL Cleanup Configuration (when STORAGE_PROVIDER=local)
# Strategy: 'lazy' (default), 'cron', 'both', or 'disabled'
# - lazy: Cleanup happens when generating new signed URLs
# - cron: Cleanup happens via scheduled API calls
# - both: Cleanup happens in both scenarios
# - disabled: No automatic cleanup (manual only)
SIGNED_URL_CLEANUP_STRATEGY=lazy

# Cron schedule for cleanup (when strategy is 'cron' or 'both')
# Default: every hour (0 * * * *)
SIGNED_URL_CLEANUP_CRON_SCHEDULE=0 * * * *

# Secret for authenticating cron requests (generate with: openssl rand -base64 32)
# Required when strategy is 'cron' or 'both'
CRON_SECRET=your-secret-key-here

# Google Cloud Platform Storage (when STORAGE_PROVIDER=gcp)
# Get these from: https://console.cloud.google.com/
# GCP_PROJECT_ID=your-gcp-project-id
### Requires Application Default Credentials, check scripts/setup-gcloud.sh
# GCP_SECRET_VERSION=latest
# GCP_SECRET_ID=your-secret-id
###
# GCP_BUCKET_NAME=your-bucket-name


# admin
ADMIN_EMAIL=
ADMIN_PASSWORD=

# ------------------------------------------
# Cache Configuration
# ------------------------------------------
# Cache provider: 'redis' or 'postgres'
# - redis: Use Redis for high-performance caching (default)
# - postgres: Use PostgreSQL UNLOGGED tables for unified database stack
CACHE_PROVIDER=postgres


# GraphQL Binary Serialization
GRAPHQL_ENCRYPTION_KEY=change-this-in-production-to-a-strong-random-key
NEXT_PUBLIC_ENABLE_BINARY_GRAPHQL=true


# Google Fonts API Key
GOOGLE_FONTS_API_KEY=your-google-fonts-api-key-here

BLOB_READ_WRITE_TOKEN=*****************