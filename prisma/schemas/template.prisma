enum TemplateConfigKey {
    MAX_BACKGROUND_SIZE
    ALLOWED_FILE_TYPES
}

model TemplateConfigs {
    key   TemplateConfigKey @id @unique
    value String
}

enum CategorySpecialType {
    Main
    Suspension
}

model TemplateCategories {
    id                     Int                  @id @default(autoincrement())
    name                   String               @db.VarChar(255)
    description            String?
    parentCategoryId       Int?
    order                  Int?
    categorySpecialType    CategorySpecialType?
    createdAt              DateTime
    updatedAt              DateTime
    parentCategory         TemplateCategories?  @relation("ParentCategory", fields: [parentCategoryId], references: [id])
    subCategories          TemplateCategories[] @relation("ParentCategory")
    templates              Templates[]          @relation("CategoryTemplates")
    preSuspensionTemplates Templates[]          @relation("PreSuspensionCategoryTemplates")

    @@unique([categorySpecialType])
}

model Templates {
    certificates            Certificates[]
    recipientGroups         TemplateRecipientGroups[]
    id                      Int                       @id @default(autoincrement())
    name                    String                    @db.VarChar(255)
    description             String?
    imageFileId             BigInt?
    categoryId              Int
    category                TemplateCategories        @relation("CategoryTemplates", fields: [categoryId], references: [id])
    order                   Int
    preSuspensionCategoryId Int?
    preSuspensionCategory   TemplateCategories?       @relation("PreSuspensionCategoryTemplates", fields: [preSuspensionCategoryId], references: [id])
    createdAt               DateTime
    updatedAt               DateTime
    templateVariables       TemplateVariableBase[]    @relation("TemplateToVariable")
    elements                TemplateElements[]
}
