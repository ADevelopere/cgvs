"""
A date string, such as 2007-12-03, compliant with the `full-date` format outlined in section 5.6 of the RFC 3339 profile of the ISO 8601 standard for representation of dates and times using the Gregorian calendar.
"""
scalar Date

"""
A date-time string at UTC, such as 2007-12-03T10:15:30Z, compliant with the `date-time` format outlined in section 5.6 of the RFC 3339 profile of the ISO 8601 standard for representation of dates and times using the Gregorian calendar.
"""
scalar DateTime

input LoginInput {
  email: String!
  password: String!
}

type LoginResponse {
  refreshToken: String
  token: String
  user: User
}

type Mutation {
  createTemplate(input: TemplateCreateInput!): Template
  createTemplateCategory(input: TemplateCategoryCreateInput!): TemplateCategory
  deleteTemplate(id: Int!): Template
  deleteTemplateCategory(id: Int!): TemplateCategory
  login(input: LoginInput!): LoginResponse
  logout: Boolean
  refreshToken: RefreshTokenResponse
  suspendTemplate(id: Int!): Template
  unsuspendTemplate(id: Int!): Template
  updateTemplate(input: UpdateTemplateInput!): Template
  updateTemplateCategory(input: TemplateCategoryUpdateInput!): TemplateCategory
}

type PageInfo {
  count: Int
  currentPage: Int
  firstItem: Int
  hasMorePages: Boolean
  lastItem: Int
  lastPage: Int
  perPage: Int
  total: Int
}

type PaginatedTemplatesResponse {
  data: [Template!]
  pageInfo: PageInfo
}

input PaginationArgs {
  first: Int = 10
  last: Int
  maxCount: Int = 100
  page: Int
  skip: Int
}

type Query {
  mainTemplateCategory: TemplateCategory
  me: User
  suspensionTemplateCategory: TemplateCategory
  template(id: Int!): Template
  templateCategories: [TemplateCategory!]
  templateCategory(id: Int!): TemplateCategory
  templates(pagination: PaginationArgs): PaginatedTemplatesResponse
  templatesConfigs: TemplatesConfigs
}

type RefreshTokenResponse {
  token: String
  user: User
}

type Template {
  category: TemplateCategory
  createdAt: DateTime
  description: String
  id: ID
  name: String
  order: Int
  preSuspensionCategory: TemplateCategory
  updatedAt: DateTime
}

type TemplateCategory {
  createdAt: DateTime
  description: String
  id: Int
  name: String
  order: Int
  parentCategory: TemplateCategory
  specialType: String
  subCategories: [TemplateCategory!]
  templates: [Template!]
  updatedAt: DateTime
}

input TemplateCategoryCreateInput {
  description: String
  name: String!
  parentCategoryId: Int
}

input TemplateCategoryUpdateInput {
  description: String
  id: Int!
  name: String!
  parentCategoryId: Int
}

input TemplateCreateInput {
  categoryId: Int!
  description: String
  name: String!
}

type TemplatesConfig {
  key: TemplatesConfigsKey
  value: String
}

type TemplatesConfigs {
  config: [TemplatesConfig!]
}

enum TemplatesConfigsKey {
  ALLOWED_FILE_TYPES
  MAX_BACKGROUND_SIZE
}

input UpdateTemplateInput {
  categoryId: Int!
  description: String
  id: Int!
  name: String!
}

type User {
  createdAt: DateTime
  email: String
  emailVerifiedAt: DateTime
  id: ID
  name: String
  updatedAt: DateTime
}