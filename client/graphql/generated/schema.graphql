type BulkOperationFailure {
  error: String
  path: String
}

type BulkOperationResult {
  failureCount: Int
  failures: [BulkOperationFailure!]
  message: String
  success: Boolean
  successCount: Int
  successfulItems: [StorageObject!]
}

enum ContentType {
  DOC
  DOCX
  GIF
  JPEG
  MP3
  MP4
  PDF
  PNG
  RAR
  TXT
  WAV
  WEBP
  XLS
  XLSX
  ZIP
}

enum CountryCode {
  AD
  AE
  AF
  AG
  AI
  AL
  AM
  AO
  AQ
  AR
  AS
  AT
  AU
  AW
  AX
  AZ
  BA
  BB
  BD
  BE
  BF
  BG
  BH
  BI
  BJ
  BL
  BM
  BN
  BO
  BR
  BS
  BT
  BV
  BW
  BY
  BZ
  CA
  CC
  CD
  CF
  CG
  CH
  CI
  CK
  CL
  CM
  CN
  CO
  CR
  CU
  CV
  CW
  CX
  CY
  CZ
  DE
  DJ
  DK
  DM
  DO
  DZ
  EC
  EE
  EG
  EH
  ER
  ES
  ET
  FI
  FJ
  FK
  FM
  FO
  FR
  GA
  GB
  GD
  GE
  GF
  GG
  GH
  GI
  GL
  GM
  GN
  GP
  GQ
  GR
  GS
  GT
  GU
  GW
  GY
  HK
  HM
  HN
  HR
  HT
  HU
  ID
  IE
  IM
  IN
  IO
  IQ
  IR
  IS
  IT
  JE
  JM
  JO
  JP
  KE
  KG
  KH
  KI
  KM
  KN
  KP
  KR
  KW
  KY
  KZ
  LA
  LB
  LC
  LI
  LK
  LR
  LS
  LT
  LU
  LV
  LY
  MA
  MC
  MD
  ME
  MF
  MG
  MH
  MK
  ML
  MM
  MN
  MO
  MP
  MQ
  MR
  MS
  MT
  MU
  MV
  MW
  MX
  MY
  MZ
  NA
  NC
  NE
  NF
  NG
  NI
  NL
  NO
  NP
  NR
  NU
  NZ
  OM
  PA
  PE
  PF
  PG
  PH
  PK
  PL
  PM
  PN
  PR
  PS
  PT
  PW
  PY
  QA
  RE
  RO
  RS
  RU
  RW
  SA
  SB
  SC
  SD
  SE
  SG
  SH
  SI
  SJ
  SK
  SL
  SM
  SN
  SO
  SR
  SS
  ST
  SV
  SX
  SY
  SZ
  TC
  TD
  TF
  TG
  TH
  TJ
  TK
  TL
  TM
  TN
  TO
  TR
  TV
  TW
  TZ
  UA
  UG
  US
  UY
  UZ
  VA
  VC
  VE
  VG
  VI
  VN
  VU
  WF
  WS
  XK
  YE
  YT
  ZA
  ZM
  ZW
}

"""
A date string, such as 2007-12-03, compliant with the `full-date` format outlined in section 5.6 of the RFC 3339 profile of the ISO 8601 standard for representation of dates and times using the Gregorian calendar.
"""
scalar Date

"""
A date-time string at UTC, such as 2007-12-03T10:15:30Z, compliant with the `date-time` format outlined in section 5.6 of the RFC 3339 profile of the ISO 8601 standard for representation of dates and times using the Gregorian calendar.
"""
scalar DateTime

type DirectoryInfo implements StorageObject {
  createdAt: DateTime
  fileCount: Int
  folderCount: Int
  isFromBucket: Boolean
  isProtected: Boolean!
  lastModified: DateTime
  name: String!
  path: String!
  permissions: DirectoryPermissions
  protectChildren: Boolean
  totalSize: Int
}

type DirectoryPermissions {
  allowCreateSubDirs: Boolean
  allowDelete: Boolean
  allowDeleteFiles: Boolean
  allowMove: Boolean
  allowMoveFiles: Boolean
  allowUploads: Boolean
}

input DirectoryPermissionsInput {
  allowCreateSubDirs: Boolean!
  allowDelete: Boolean!
  allowDeleteFiles: Boolean!
  allowMove: Boolean!
  allowMoveFiles: Boolean!
  allowUploads: Boolean!
}

input DirectoryPermissionsUpdateInput {
  path: String!
  permissions: DirectoryPermissionsInput!
}

"""A type representing a validated email address"""
scalar Email

type FileInfo implements StorageObject {
  contentType: String
  createdAt: DateTime
  directoryPath: String
  fileType: FileType
  isFromBucket: Boolean
  isInUse: Boolean
  isProtected: Boolean!
  isPublic: Boolean
  lastModified: DateTime
  md5Hash: String
  mediaLink: String
  name: String!
  path: String!
  size: Int!
  url: String!
  usages: [FileUsageInfo!]
}

type FileOperationResult {
  data: StorageObject
  message: String
  success: Boolean
}

input FileRenameInput {
  currentPath: String!
  newName: String!
}

enum FileSortField {
  CREATED
  MODIFIED
  NAME
  SIZE
  TYPE
}

enum FileType {
  ARCHIVE
  AUDIO
  DOCUMENT
  IMAGE
  OTHER
  VIDEO
}

type FileTypeBreakdown {
  count: Int
  size: String
  type: FileType
}

input FileUsageCheckInput {
  path: String!
}

type FileUsageInfo {
  createdAt: DateTime
  filePath: String
  id: String
  referenceId: String
  referenceTable: String
  usageType: String
}

type FileUsageResult {
  canDelete: Boolean
  deleteBlockReason: String
  isInUse: Boolean
  usages: [FileUsageInfo!]
}

input FilesListInput {
  fileType: String
  limit: Int
  offset: Int
  path: String!
  searchTerm: String
  sortBy: FileSortField
  sortDirection: OrderSortDirection
}

input FolderCreateInput {
  path: String!
  permissions: DirectoryPermissionsInput
  protectChildren: Boolean
  protected: Boolean
}

enum Gender {
  FEMALE
  MALE
  OTHER
}

input LoginInput {
  email: Email!
  password: String!
}

type LoginResponse {
  token: String
  user: User
}

type Mutation {
  copyStorageItems(input: StorageItemsCopyInput!): BulkOperationResult
  createFolder(input: FolderCreateInput!): FileOperationResult
  createRecipient(input: TemplateRecipientCreateInput!): TemplateRecipient!
  createRecipients(input: TemplateRecipientCreateListInput!): [TemplateRecipient!]!
  createStudent(input: StudentCreateInput!): Student
  createTemplate(input: TemplateCreateInput!): Template
  createTemplateCategory(input: TemplateCategoryCreateInput!): TemplateCategory!
  createTemplateDateVariable(input: TemplateDateVariableCreateInput!): TemplateDateVariable
  createTemplateNumberVariable(input: TemplateNumberVariableCreateInput!): TemplateNumberVariable
  createTemplateRecipientGroup(input: TemplateRecipientGroupCreateInput!): TemplateRecipientGroup
  createTemplateSelectVariable(input: TemplateSelectVariableCreateInput!): TemplateSelectVariable
  createTemplateTextVariable(input: TemplateTextVariableCreateInput!): TemplateTextVariable
  deleteFile(path: String!): FileOperationResult
  deleteRecipient(id: Int!): TemplateRecipient!
  deleteRecipients(ids: [Int!]!): [TemplateRecipient!]!
  deleteStorageItems(input: StorageItemsDeleteInput!): BulkOperationResult
  deleteStudent(id: Int!): Student
  deleteTemplate(id: Int!): Template
  deleteTemplateCategory(id: Int!): TemplateCategory!
  deleteTemplateRecipientGroup(id: Int!): TemplateRecipientGroup
  deleteTemplateVariable(id: Int!): TemplateVariable
  generateUploadSignedUrl(input: UploadSignedUrlGenerateInput!): String
  login(input: LoginInput!): LoginResponse
  logout: Boolean
  moveStorageItems(input: StorageItemsMoveInput!): BulkOperationResult
  partiallyUpdateStudent(input: PartialStudentUpdateInput!): Student
  refreshToken: RefreshTokenResponse
  renameFile(input: FileRenameInput!): FileOperationResult
  setStorageItemProtection(input: StorageItemProtectionUpdateInput!): FileOperationResult
  suspendTemplate(id: Int!): Template
  unsuspendTemplate(id: Int!): Template
  updateDirectoryPermissions(input: DirectoryPermissionsUpdateInput!): FileOperationResult
  updateTemplate(input: TemplateUpdateInput!): Template
  updateTemplateCategory(input: TemplateCategoryUpdateInput!): TemplateCategory!
  updateTemplateDateVariable(input: TemplateDateVariableUpdateInput!): TemplateDateVariable
  updateTemplateNumberVariable(input: TemplateNumberVariableUpdateInput!): TemplateNumberVariable
  updateTemplateRecipientGroup(input: TemplateRecipientGroupUpdateInput!): TemplateRecipientGroup
  updateTemplateSelectVariable(input: TemplateSelectVariableUpdateInput!): TemplateSelectVariable
  updateTemplateTextVariable(input: TemplateTextVariableUpdateInput!): TemplateTextVariable
}

enum OrderSortDirection {
  ASC
  DESC
}

type PageInfo {
  count: Int!
  currentPage: Int!
  firstItem: Int
  hasMorePages: Boolean!
  lastItem: Int
  lastPage: Int!
  perPage: Int!
  total: Int!
}

type PaginatedTemplatesResponse {
  data: [Template!]
  pageInfo: PageInfo
}

input PaginationArgs {
  first: Int = 10
  last: Int
  maxCount: Int = 100
  page: Int
  skip: Int
}

input PartialStudentUpdateInput {
  dateOfBirth: DateTime
  email: Email
  gender: Gender
  id: Int!
  name: String
  nationality: CountryCode
  phoneNumber: PhoneNumber
}

"""A type representing a validated phone number"""
scalar PhoneNumber

type Query {
  directoryChildren(
    """Parent directory path (empty or null for root level)"""
    path: String
  ): [DirectoryInfo!]
  fileInfo(path: String!): FileInfo
  fileUsage(input: FileUsageCheckInput!): FileUsageResult
  folderInfo(path: String!): DirectoryInfo
  listFiles(input: FilesListInput!): StorageObjectList
  mainTemplateCategory: TemplateCategory!
  me: User
  recipient(id: Int!): TemplateRecipient
  recipientsByGroupId(recipientGroupId: Int!): [TemplateRecipient!]!
  recipientsByStudentId(studentId: Int!): [TemplateRecipient!]!
  searchFiles(
    """File type filter (optional)"""
    fileType: String

    """
    Folder to search in (optional, searches entire bucket if not specified)
    """
    folder: String

    """Maximum number of results"""
    limit: Int = 50
    searchTerm: String!
  ): StorageObjectList
  storageStats(
    """
    Folder path to get stats for (optional, gets stats for entire bucket if not specified)
    """
    path: String
  ): StorageStats
  student(id: Int!): Student
  students(filterArgs: StudentFilterArgs, orderBy: [StudentsOrderByClause!], paginationArgs: PaginationArgs): StudentsWithFiltersResponse!
  studentsInRecipientGroup(filterArgs: StudentFilterArgs, orderBy: [StudentsOrderByClause!], paginationArgs: PaginationArgs, recipientGroupId: Int!): StudentsWithFiltersResponse!
  studentsNotInRecipientGroup(filterArgs: StudentFilterArgs, orderBy: [StudentsOrderByClause!], paginationArgs: PaginationArgs, recipientGroupId: Int!): StudentsWithFiltersResponse!
  suspensionTemplateCategory: TemplateCategory!
  template(id: Int!): Template
  templateCategories: [TemplateCategory!]!
  templateCategory(id: Int!): TemplateCategory
  templateRecipientGroupById(id: Int!): TemplateRecipientGroup
  templateRecipientGroupsByTemplateId(templateId: Int!): [TemplateRecipientGroup!]
  templateVariable(id: Int!): TemplateVariable
  templateVariablesByTemplateId(templateId: Int!): [TemplateVariable!]
  templates(pagination: PaginationArgs): PaginatedTemplatesResponse
  templatesConfigs: TemplatesConfigs
  user(id: Int!): User
  users: [User!]
}

type RefreshTokenResponse {
  token: String
  user: User
}

input StorageItemProtectionUpdateInput {
  isProtected: Boolean!
  path: String!
  protectChildren: Boolean
}

input StorageItemsCopyInput {
  destinationPath: String!
  sourcePaths: [String!]!
}

input StorageItemsDeleteInput {
  force: Boolean
  paths: [String!]!
}

input StorageItemsMoveInput {
  destinationPath: String!
  sourcePaths: [String!]!
}

interface StorageObject {
  isProtected: Boolean!
  name: String!
  path: String!
}

type StorageObjectList {
  hasMore: Boolean!
  items: [StorageObject!]
  limit: Int!
  offset: Int!
  totalCount: Int!
}

type StorageStats {
  directoryCount: Int
  fileTypeBreakdown: [FileTypeBreakdown!]
  totalFiles: Int
  totalSize: String
}

type Student {
  createdAt: DateTime
  dateOfBirth: DateTime
  email: String
  gender: Gender
  id: Int!
  name: String!
  nationality: CountryCode
  phoneNumber: PhoneNumber
  recipientRecords: [TemplateRecipient!]
  updatedAt: DateTime
}

input StudentCreateInput {
  dateOfBirth: DateTime
  email: Email
  gender: Gender
  name: String!
  nationality: CountryCode
  phoneNumber: PhoneNumber
}

input StudentFilterArgs {
  birthDate: DateTime
  birthDateAfter: DateTime
  birthDateBefore: DateTime
  birthDateFrom: DateTime
  birthDateIsEmpty: Boolean
  birthDateIsNotEmpty: Boolean
  birthDateNot: DateTime
  birthDateOnOrAfter: DateTime
  birthDateOnOrBefore: DateTime
  birthDateTo: DateTime
  createdAt: DateTime
  createdAtAfter: DateTime
  createdAtBefore: DateTime
  createdAtFrom: DateTime
  createdAtIsEmpty: Boolean
  createdAtIsNotEmpty: Boolean
  createdAtNot: DateTime
  createdAtOnOrAfter: DateTime
  createdAtOnOrBefore: DateTime
  createdAtTo: DateTime
  email: String
  emailEndsWith: String
  emailEquals: Email
  emailIsEmpty: Boolean
  emailIsNotEmpty: Boolean
  emailNotContains: String
  emailNotEquals: String
  emailStartsWith: String
  gender: Gender
  name: String
  nameEndsWith: String
  nameEquals: String
  nameIsEmpty: Boolean
  nameIsNotEmpty: Boolean
  nameNotContains: String
  nameNotEquals: String
  nameStartsWith: String
  nationality: CountryCode
  phoneNumber: PhoneNumber
}

input StudentsOrderByClause {
  column: StudentsOrderByColumn!
  order: OrderSortDirection = ASC
}

enum StudentsOrderByColumn {
  CREATED_AT
  DATE_OF_BIRTH
  EMAIL
  GENDER
  ID
  NAME
  UPDATED_AT
}

type StudentsWithFiltersResponse {
  data: [Student!]!
  pageInfo: PageInfo!
}

type Template {
  category: TemplateCategory
  createdAt: DateTime
  description: String
  id: Int!
  imageFile: FileInfo
  imageUrl: String
  name: String
  order: Int
  preSuspensionCategory: TemplateCategory
  recipientGroups: [TemplateRecipientGroup!]
  updatedAt: DateTime
  variables: [TemplateVariable!]
}

type TemplateCategory {
  createdAt: DateTime
  description: String
  id: Int!
  name: String
  order: Int
  parentCategory: TemplateCategory
  specialType: String
  subCategories: [TemplateCategory!]
  templates: [Template!]
  updatedAt: DateTime
}

input TemplateCategoryCreateInput {
  description: String
  name: String!
  parentCategoryId: Int
}

input TemplateCategoryUpdateInput {
  description: String
  id: Int!
  name: String!
  parentCategoryId: Int
}

input TemplateCreateInput {
  categoryId: Int!
  description: String
  name: String!
}

type TemplateDateVariable implements TemplateVariable {
  createdAt: DateTime
  description: String
  format: String
  id: Int
  maxDate: DateTime
  minDate: DateTime
  name: String
  order: Int
  previewValue: String
  required: Boolean
  template: Template
  type: TemplateVariableType
  updatedAt: DateTime
}

input TemplateDateVariableCreateInput {
  description: String
  format: String
  maxDate: DateTime
  minDate: DateTime
  name: String!
  previewValue: DateTime
  required: Boolean! = false
  templateId: Int!
}

input TemplateDateVariableUpdateInput {
  description: String
  format: String
  id: Int!
  maxDate: DateTime
  minDate: DateTime
  name: String!
  previewValue: DateTime
  required: Boolean! = false
}

type TemplateNumberVariable implements TemplateVariable {
  createdAt: DateTime
  decimalPlaces: Int
  description: String
  id: Int
  maxValue: Float
  minValue: Float
  name: String
  order: Int
  previewValue: String
  required: Boolean
  template: Template
  type: TemplateVariableType
  updatedAt: DateTime
}

input TemplateNumberVariableCreateInput {
  decimalPlaces: Int
  description: String
  maxValue: Float
  minValue: Float
  name: String!
  previewValue: Float
  required: Boolean! = false
  templateId: Int!
}

input TemplateNumberVariableUpdateInput {
  decimalPlaces: Int
  description: String
  id: Int!
  maxValue: Float
  minValue: Float
  name: String!
  previewValue: Float
  required: Boolean! = false
}

type TemplateRecipient {
  createdAt: DateTime
  id: Int
  recipientGroup: TemplateRecipientGroup
  recipientGroupId: Int
  student: Student
  studentId: Int
  updatedAt: DateTime
}

input TemplateRecipientCreateInput {
  recipientGroupId: Int!
  studentId: Int!
}

input TemplateRecipientCreateListInput {
  recipientGroupId: Int!
  studentIds: [Int!]!
}

type TemplateRecipientGroup {
  createdAt: DateTime
  date: DateTime
  description: String
  id: Int
  name: String
  recipients: [TemplateRecipient!]
  studentCount: Int
  template: Template
  updatedAt: DateTime
}

input TemplateRecipientGroupCreateInput {
  date: DateTime
  description: String
  name: String!
  templateId: Int!
}

input TemplateRecipientGroupUpdateInput {
  date: DateTime
  description: String
  id: Int!
  name: String!
}

type TemplateSelectVariable implements TemplateVariable {
  createdAt: DateTime
  description: String
  id: Int
  multiple: Boolean
  name: String
  options: [String!]
  order: Int
  previewValue: String
  required: Boolean
  template: Template
  type: TemplateVariableType
  updatedAt: DateTime
}

input TemplateSelectVariableCreateInput {
  description: String
  multiple: Boolean
  name: String!
  options: [String!]!
  previewValue: String
  required: Boolean! = false
  templateId: Int!
}

input TemplateSelectVariableUpdateInput {
  description: String
  id: Int!
  multiple: Boolean
  name: String!
  options: [String!]!
  previewValue: String
  required: Boolean! = false
}

type TemplateTextVariable implements TemplateVariable {
  createdAt: DateTime
  description: String
  id: Int
  maxLength: Int
  minLength: Int
  name: String
  order: Int
  pattern: String
  previewValue: String
  required: Boolean
  template: Template
  type: TemplateVariableType
  updatedAt: DateTime
}

input TemplateTextVariableCreateInput {
  description: String
  maxLength: Int
  minLength: Int
  name: String!
  pattern: String
  previewValue: String
  required: Boolean! = false
  templateId: Int!
}

input TemplateTextVariableUpdateInput {
  description: String
  id: Int!
  maxLength: Int
  minLength: Int
  name: String!
  pattern: String
  previewValue: String
  required: Boolean! = false
}

input TemplateUpdateInput {
  categoryId: Int!
  description: String
  id: Int!
  name: String!
}

interface TemplateVariable {
  createdAt: DateTime
  description: String
  id: Int
  name: String
  order: Int
  previewValue: String
  required: Boolean
  template: Template
  type: TemplateVariableType
  updatedAt: DateTime
}

enum TemplateVariableType {
  DATE
  NUMBER
  SELECT
  TEXT
}

type TemplatesConfig {
  key: TemplatesConfigsKey
  value: String
}

type TemplatesConfigs {
  configs: [TemplatesConfig!]
}

enum TemplatesConfigsKey {
  ALLOWED_FILE_TYPES
  MAX_BACKGROUND_SIZE
}

enum UploadLocationPath {
  TEMPLATE_COVERS
}

input UploadSignedUrlGenerateInput {
  contentMd5: String!
  contentType: ContentType!
  fileSize: Int!
  path: String!
}

type User {
  createdAt: DateTime
  email: String
  emailVerifiedAt: DateTime
  id: Int
  name: String
  updatedAt: DateTime
}